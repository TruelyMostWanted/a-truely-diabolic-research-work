graph TD
    %% =============== STYLES ===============
    classDef entity fill:#1f77b4,stroke:#000,color:white,font-weight:bold;
    classDef attribute fill:#e0e0e0,stroke:#333,color:#000;
    classDef relation fill:#ff8c00,stroke:#000,color:white,font-weight:bold;
    classDef goal fill:#2ca02c,stroke:#000,color:white,font-weight:bold;
    classDef condition fill:#d62728,stroke:#000,color:white,font-weight:bold;
    classDef decisionVar fill:#9467bd,stroke:#000,color:white,font-weight:bold;

    %% =============== ENTITIES ===============
    E0[Project]:::entity
    E1[Team]:::entity
    E2[Worker]:::entity
    E3[Feature]:::entity
    E4[Skill]:::entity
    E5[Role]:::entity
    E6[ProductOwner]:::entity
    E7[ScrumMaster]:::entity
    E8[ProductBacklog]:::entity
    E9[Sprint]:::entity
    E10[SprintPlanning]:::entity
    E11[DailyScrum]:::entity
    E12[SprintReview]:::entity
    E13[SprintRetrospective]:::entity
    E14[SprintBacklog]:::entity
    E15[SprintGoal]:::entity
    E16[Epic]:::entity
    E17[UserStory]:::entity
    E18[Task]:::entity
    E19[DevelopmentSnapshot]:::entity
    E20[Blocker]:::entity
    E21[Stakeholder]:::entity
    E22[Velocity]:::entity
    E23[ReleasePlan]:::entity
    E24[Roadmap]:::entity
    E25[ScrumBoard]:::entity
    E26[FeatureDocumentation]:::entity

    %% =============== ATTRIBUTES (grouped per entity) ===============
    %% Project Attributes
    A0_id1["id"]:::attribute
    A0_name["name"]:::attribute
    A0_project_start["project_start"]:::attribute
    A0_project_end["project_end"]:::attribute
    A0_description1["description"]:::attribute
    A0_budget["budget"]:::attribute
    A0_status1["status"]:::attribute
    A0_target_audience["target_audience"]:::attribute
    A0_priority1["priority"]:::attribute

    E0 --> A0_id1
    E0 --> A0_name
    E0 --> A0_project_start
    E0 --> A0_project_end
    E0 --> A0_description1
    E0 --> A0_budget
    E0 --> A0_status1
    E0 --> A0_target_audience
    E0 --> A0_priority1

    %% Team Attributes
    A1_id2["id"]:::attribute
    A1_name1["name"]:::attribute
    A1_team_size["team_size"]:::attribute
    A1_team_start["team_start"]:::attribute
    A1_team_status["team_status"]:::attribute
    A1_location["location"]:::attribute
    A1_team_type["team_type"]:::attribute

    E1 --> A1_id2
    E1 --> A1_name1
    E1 --> A1_team_size
    E1 --> A1_team_start
    E1 --> A1_team_status
    E1 --> A1_location
    E1 --> A1_team_type

    %% Worker Attributes
    A2_id3["id"]:::attribute
    A2_name2["name"]:::attribute
    A2_first_name["first_name"]:::attribute
    A2_email["email"]:::attribute
    A2_start_date["start_date"]:::attribute
    A2_status2["status"]:::attribute
    A2_availability["availability"]:::attribute

    E2 --> A2_id3
    E2 --> A2_name2
    E2 --> A2_first_name
    E2 --> A2_email
    E2 --> A2_start_date
    E2 --> A2_status2
    E2 --> A2_availability

    %% Feature Attributes
    A3_id4["id"]:::attribute
    A3_title1["title"]:::attribute
    A3_description2["description"]:::attribute
    A3_status3["status"]:::attribute
    A3_priority2["priority"]:::attribute
    A3_estimated_effort["estimated_effort"]:::attribute

    E3 --> A3_id4
    E3 --> A3_title1
    E3 --> A3_description2
    E3 --> A3_status3
    E3 --> A3_priority2
    E3 --> A3_estimated_effort

    %% Skill Attributes
    A4_id5["id"]:::attribute
    A4_label["label"]:::attribute
    A4_description3["description"]:::attribute
    A4_level["level"]:::attribute
    A4_certified["certified"]:::attribute
    A4_category["category"]:::attribute

    E4 --> A4_id5
    E4 --> A4_label
    E4 --> A4_description3
    E4 --> A4_level
    E4 --> A4_certified
    E4 --> A4_category

    %% Role Attributes
    A5_id6["id"]:::attribute
    A5_role_name["role_name"]:::attribute
    A5_description4["description"]:::attribute
    A5_area_of_responsibility["area_of_responsibility"]:::attribute

    E5 --> A5_id6
    E5 --> A5_role_name
    E5 --> A5_description4
    E5 --> A5_area_of_responsibility

    %% ProductOwner Attributes
    A6_id7["id"]:::attribute
    A6_name3["name"]:::attribute
    A6_email1["email"]:::attribute
    A6_availability1["availability"]:::attribute

    E6 --> A6_id7
    E6 --> A6_name3
    E6 --> A6_email1
    E6 --> A6_availability1

    %% ScrumMaster Attributes
    A7_id8["id"]:::attribute
    A7_name4["name"]:::attribute
    A7_email2["email"]:::attribute
    A7_experience["experience"]:::attribute

    E7 --> A7_id8
    E7 --> A7_name4
    E7 --> A7_email2
    E7 --> A7_experience

    %% ProductBacklog Attributes
    A8_id9["id"]:::attribute
    A8_created_on["created_on"]:::attribute
    A8_last_updated["last_updated"]:::attribute
    A8_number_of_entries["number_of_entries"]:::attribute
    A8_status2["status"]:::attribute

    E8 --> A8_id9
    E8 --> A8_created_on
    E8 --> A8_last_updated
    E8 --> A8_number_of_entries
    E8 --> A8_status2

    %% Sprint Attributes
    A9_id10["id"]:::attribute
    A9_sprint_number["sprint_number"]:::attribute
    A9_start_date1["start_date"]:::attribute
    A9_end_date["end_date"]:::attribute
    A9_status4["status"]:::attribute
    A9_achievement_of_goal["achievement_of_goal"]:::attribute

    E9 --> A9_id10
    E9 --> A9_sprint_number
    E9 --> A9_start_date1
    E9 --> A9_end_date
    E9 --> A9_status4
    E9 --> A9_achievement_of_goal

    %% Task Attributes
    A18_id19["id"]:::attribute
    A18_title5["title"]:::attribute
    A18_description8["description"]:::attribute
    A18_status7["status"]:::attribute
    A18_effort["effort"]:::attribute
    A18_type["type"]:::attribute

    E18 --> A18_id19
    E18 --> A18_title5
    E18 --> A18_description8
    E18 --> A18_status7
    E18 --> A18_effort
    E18 --> A18_type

    %% Velocity Attributes
    A22_id22["id"]:::attribute
    A22_number_of_sprints_used["number_of_sprints_used"]:::attribute
    A22_avg_story_points["avg._story_points"]:::attribute
    A22_max_velocity["max_velocity"]:::attribute
    A22_min_velocity["min_velocity"]:::attribute
    A22_trend["trend"]:::attribute

    E22 --> A22_id22
    E22 --> A22_number_of_sprints_used
    E22 --> A22_avg_story_points
    E22 --> A22_max_velocity
    E22 --> A22_min_velocity
    E22 --> A22_trend

    %% SprintGoal Attributes
    A15_id15["id"]:::attribute
    A15_objective_description["objective_description"]:::attribute
    A15_achievement_status["achievement_status"]:::attribute
    A15_benefit["benefit"]:::attribute

    E15 --> A15_id15
    E15 --> A15_objective_description
    E15 --> A15_achievement_status
    E15 --> A15_benefit

    %% Blocker Attributes
    A20_id20["id"]:::attribute
    A20_title6["title"]:::attribute
    A20_description9["description"]:::attribute
    A20_severity["severity"]:::attribute
    A20_status8["status"]:::attribute
    A20_detected_on["detected_on"]:::attribute
    A20_resolved_on["resolved_on"]:::attribute

    E20 --> A20_id20
    E20 --> A20_title6
    E20 --> A20_description9
    E20 --> A20_severity
    E20 --> A20_status8
    E20 --> A20_detected_on
    E20 --> A20_resolved_on

    %% ReleasePlan Attributes
    A23_id23["id"]:::attribute
    A23_version["version"]:::attribute
    A23_planned_date["planned_date"]:::attribute
    A23_included_features["included_features"]:::attribute
    A23_status5["status"]:::attribute

    E23 --> A23_id23
    E23 --> A23_version
    E23 --> A23_planned_date
    E23 --> A23_included_features
    E23 --> A23_status5

    %% UserStory Attributes
    A17_id17["id"]:::attribute
    A17_title4["title"]:::attribute
    A17_description7["description"]:::attribute
    A17_acceptance_criteria["acceptance_criteria"]:::attribute
    A17_priority5["priority"]:::attribute
    A17_story_points["story_points"]:::attribute
    A17_status6["status"]:::attribute

    E17 --> A17_id17
    E17 --> A17_title4
    E17 --> A17_description7
    E17 --> A17_acceptance_criteria
    E17 --> A17_priority5
    E17 --> A17_story_points
    E17 --> A17_status6

    %% DevelopmentSnapshot Attributes
    A19_id21["id"]:::attribute
    A19_version_number["version_number"]:::attribute
    A19_creation_date["creation_date"]:::attribute
    A19_test_status["test_status"]:::attribute
    A19_deployment_target["deployment_target"]:::attribute
    A19_documentation["documentation"]:::attribute

    E19 --> A19_id21
    E19 --> A19_version_number
    E19 --> A19_creation_date
    E19 --> A19_test_status
    E19 --> A19_deployment_target
    E19 --> A19_documentation

    %% Stakeholder Attributes
    A21_id24["id"]:::attribute
    A21_name5["name"]:::attribute
    A21_organization["organization"]:::attribute
    A21_role1["role"]:::attribute
    A21_email3["email"]:::attribute
    A21_area_of_interest["area_of_interest"]:::attribute
    A21_influence_level["influence_level"]:::attribute
    A21_relevance_to_feature["relevance_to_feature"]:::attribute

    E21 --> A21_id24
    E21 --> A21_name5
    E21 --> A21_organization
    E21 --> A21_role1
    E21 --> A21_email3
    E21 --> A21_area_of_interest
    E21 --> A21_influence_level
    E21 --> A21_relevance_to_feature

    %% FeatureDocumentation Attributes
    A26_id26["id"]:::attribute
    A26_title7["title"]:::attribute
    A26_description10["description"]:::attribute
    A26_creation_date1["creation_date"]:::attribute
    A26_change_log["change_log"]:::attribute
    A26_linked_requirements["linked_requirements"]:::attribute
    A26_author["author"]:::attribute

    E26 --> A26_id26
    E26 --> A26_title7
    E26 --> A26_description10
    E26 --> A26_creation_date1
    E26 --> A26_change_log
    E26 --> A26_linked_requirements
    E26 --> A26_author

    %% =============== RELATIONSHIPS (as orange nodes) ===============
    R1[is_assigned_to_project]:::relation
    R2[b]:::relation
    R3[has_skill]:::relation
    R4[takes_on_role]:::relation
    R5[manages_backlog]:::relation
    R6[is_supported_by]:::relation
    R7[contains_feature]:::relation
    R8[contains_epic]:::relation
    R9[contains_user_story]:::relation
    R10[consists_of_tasks]:::relation
    R11[is_in_sprint_backlog]:::relation
    R12[belongs_to_sprint]:::relation
    R13[pursues_goal]:::relation
    R14[contains_tasks]:::relation
    R15[documents_feature]:::relation
    R16[is_blocked_by]:::relation
    R17[participates_in]:::relation
    R18[moderates_retrospective]:::relation
    R19[refers_to_team]:::relation
    R20[plans_release]:::relation
    R21[is_part_of_roadmap]:::relation
    R22[generates_snapshot]:::relation

    %% Connect relationships between entities
    E1 -- R1 --> E0
    E2 -- R2 --> E1
    E2 -- R3 --> E4
    E2 -- R4 --> E5
    E6 -- R5 --> E8
    E1 -- R6 --> E7
    E8 -- R7 --> E3
    E8 -- R8 --> E16
    E16 -- R9 --> E17
    E17 -- R10 --> E18
    E17 -- R11 --> E14
    E14 -- R12 --> E9
    E9 -- R13 --> E15
    E25 -- R14 --> E18
    E26 -- R15 --> E3
    E18 -- R16 --> E20
    E21 -- R17 --> E12
    E7 -- R18 --> E13
    E22 -- R19 --> E1
    E23 -- R20 --> E3
    E23 -- R21 --> E24
    E9 -- R22 --> E19

    %% =============== GOALS (green) ===============
    G0[maximize_project_budget]:::goal
    G1[maximize_team_size]:::goal
    G2[maximize_worker_availability]:::goal
    G3[minimize_total_effort]:::goal
    G4[maximize_story_points]:::goal
    G5[minimize_sprint_duration]:::goal
    G6[maximize_velocity_trend]:::goal
    G7[minimize_number_of_blockers]:::goal
    G8[maximize_number_of_features]:::goal
    G9[minimize_epic_estimated_effort]:::goal
    G10[maximize_satisfaction_score]:::goal
    G11[minimize_release_delay]:::goal
    G12[maximize_documentation_coverage]:::goal
    G13[minimize_task_count_per_sprint]:::goal
    G14[maximize_sprint_goal_achievement]:::goal

    %% Link Goals to Entity + Attribute
    G0 --> A0_budget
    G1 --> A1_team_size
    G2 --> A2_availability
    G3 --> A18_effort
    G4 --> A17_story_points
    G5 --> A9_end_date & A9_start_date1
    G6 --> A22_trend
    G7 --> A20_status8
    G8 --> A3_status3
    G9 --> A16_estimated_effort
    G10 --> A13_team_satisfaction
    G11 --> A23_planned_date
    G12 --> A26_linked_requirements
    G13 --> A14_number_of_tasks
    G14 --> A15_achievement_status

    %% Add missing attribute for SprintRetrospective
    A13_team_satisfaction["team_satisfaction"]:::attribute
    E13 --> A13_team_satisfaction

    %% Add missing attribute for Epic
    A16_estimated_effort["estimated_effort"]:::attribute
    E16 --> A16_estimated_effort

    %% Add missing attribute for SprintBacklog
    A14_number_of_tasks["number_of_tasks"]:::attribute
    A14_last_updated["last_updated"]:::attribute
    A14_status3["status"]:::attribute
    A14_total_effort["total_effort"]:::attribute
    E14 --> A14_number_of_tasks
    E14 --> A14_last_updated
    E14 --> A14_status3
    E14 --> A14_total_effort

    %% =============== CONDITIONS (red) ===============
    C0[require_project_status_active]:::condition
    C1[require_team_status_active]:::condition
    C2[require_worker_status_active]:::condition
    C3[require_feature_status_completed]:::condition
    C4[require_user_story_status_done]:::condition
    C5[require_task_status_not_blocked]:::condition
    C6[require_sprint_status_completed]:::condition
    C7[require_release_status_planned]:::condition
    C8[require_skill_certified]:::condition
    C9[require_role_area_defined]:::condition
    C10[require_velocity_above_minimum]:::condition
    C11[require_board_updated_recently]:::condition
    C12[require_stakeholder_relevance_high]:::condition
    C13[require_snapshot_test_passed]:::condition
    C14[require_goal_achievement_met]:::condition

    %% Link Conditions to Attributes
    C0 --> A0_status1
    C1 --> A1_team_status
    C2 --> A2_status2
    C3 --> A3_status3
    C4 --> A17_status6
    C5 --> A18_status7
    C6 --> A9_status4
    C7 --> A23_status5
    C8 --> A4_certified
    C9 --> A5_area_of_responsibility
    C10 --> A22_min_velocity
    C11 --> A25_last_updated
    C12 --> A21_relevance_to_feature
    C13 --> A19_test_status
    C14 --> A15_achievement_status

    %% Add missing attribute for ScrumBoard
    A25_last_updated["last_updated"]:::attribute
    E25 --> A25_last_updated

    %% =============== DECISION VARIABLES (purple) ===============
    DV0[project_priority_assignment]:::decisionVar
    DV1[team_size_allocation]:::decisionVar
    DV2[worker_availability_percentage]:::decisionVar
    DV3[task_effort_estimate]:::decisionVar
    DV4[user_story_priority]:::decisionVar
    DV5[feature_priority]:::decisionVar
    DV6[sprint_duration_days]:::decisionVar
    DV7[story_points_estimate]:::decisionVar
    DV8[skill_level_rating]:::decisionVar
    DV9[blocker_severity_level]:::decisionVar
    DV10[team_satisfaction_score]:::decisionVar
    DV11[release_version_number]:::decisionVar
    DV12[documentation_completion_status]:::decisionVar
    DV13[task_status_code]:::decisionVar
    DV14[velocity_trend_value]:::decisionVar

    %% Link Decision Variables to Entities
    DV0 --> E0
    DV1 --> E1
    DV2 --> E2
    DV3 --> E18
    DV4 --> E17
    DV5 --> E3
    DV6 --> E9
    DV7 --> E17
    DV8 --> E4
    DV9 --> E20
    DV10 --> E13
    DV11 --> E23
    DV12 --> E26
    DV13 --> E18
    DV14 --> E22

    %% =============== END OF GRAPH ===============