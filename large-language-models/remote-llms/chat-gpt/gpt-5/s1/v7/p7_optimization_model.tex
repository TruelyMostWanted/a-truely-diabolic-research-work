\documentclass[11pt,a4paper]{article}
\usepackage{amsmath,amssymb,amsthm}
\usepackage{enumitem}
\usepackage[margin=1in]{geometry}
\usepackage{hyperref}

\title{Sprint Planning and Delivery Optimization Model (SCRUM Domain)}
\author{Generated by Assistant}
\date{\today}

\begin{document}
\maketitle
\tableofcontents
\newpage

\section{1. Sets (Entities)}
\begin{itemize}[leftmargin=2em]
  \item $\mathcal{P}$ = Projects (Entity: \texttt{Project})
  \item $\mathcal{T}$ = Teams (Entity: \texttt{Team})
  \item $\mathcal{W}$ = Workers (Entity: \texttt{Worker})
  \item $\mathcal{F}$ = Features (Entity: \texttt{Feature})
  \item $\mathcal{S}$ = Skills (Entity: \texttt{Skill})
  \item $\mathcal{R}$ = Roles (Entity: \texttt{Role})
  \item $\mathcal{PO}$ = Product Owners (Entity: \texttt{ProductOwner})
  \item $\mathcal{SM}$ = Scrum Masters (Entity: \texttt{ScrumMaster})
  \item $\mathcal{PB}$ = Product Backlogs (Entity: \texttt{ProductBacklog})
  \item $\mathcal{SP}$ = Sprints (Entity: \texttt{Sprint})
  \item $\mathcal{SPP}$ = Sprint Plannings (Entity: \texttt{SprintPlanning})
  \item $\mathcal{DS}$ = Daily Scrums (Entity: \texttt{DailyScrum})
  \item $\mathcal{SR}$ = Sprint Reviews (Entity: \texttt{SprintReview})
  \item $\mathcal{SRE}$ = Sprint Retrospectives (Entity: \texttt{SprintRetrospective})
  \item $\mathcal{SBL}$ = Sprint Backlogs (Entity: \texttt{SprintBacklog})
  \item $\mathcal{SG}$ = Sprint Goals (Entity: \texttt{SprintGoal})
  \item $\mathcal{E}$ = Epics (Entity: \texttt{Epic})
  \item $\mathcal{US}$ = User Stories (Entity: \texttt{UserStory})
  \item $\mathcal{TSK}$ = Tasks (Entity: \texttt{Task})
  \item $\mathcal{DEV}$ = Development Snapshots (Entity: \texttt{DevelopmentSnapshot})
  \item $\mathcal{BL}$ = Blockers (Entity: \texttt{Blocker})
  \item $\mathcal{SH}$ = Stakeholders (Entity: \texttt{Stakeholder})
  \item $\mathcal{VEL}$ = Velocities (Entity: \texttt{Velocity})
  \item $\mathcal{REP}$ = Release Plans (Entity: \texttt{ReleasePlan})
  \item $\mathcal{RM}$ = Roadmaps (Entity: \texttt{Roadmap})
  \item $\mathcal{SCB}$ = Scrum Boards (Entity: \texttt{ScrumBoard})
  \item $\mathcal{FED}$ = Feature Documentations (Entity: \texttt{FeatureDocumentation})
\end{itemize}

\paragraph{Relationship-induced index maps (from \texttt{Relationships.csv}).}
\begin{itemize}[leftmargin=2em]
  \item $U(s) \subseteq \mathcal{US}$: user stories contained in epic $s \in \mathcal{E}$ (R9).
  \item $K(u) \subseteq \mathcal{TSK}$: tasks belonging to user story $u \in \mathcal{US}$ (R10).
  \item $B(u) \subseteq \mathcal{SBL}$: sprint backlogs that include user story $u$ (R11).
  \item $S(\mathrm{sp}) \in \mathcal{SBL}$: the sprint backlog of sprint $\mathrm{sp}$ (R12).
  \item $G(\mathrm{sp}) \in \mathcal{SG}$: the goal pursued by sprint $\mathrm{sp}$ (R13).
  \item $L(\mathrm{scb}) \subseteq \mathcal{TSK}$: tasks on scrum board $\mathrm{scb}$ (R14).
  \item $D(\mathrm{sp}) \in \mathcal{DEV}$: snapshot generated by sprint $\mathrm{sp}$ (R22).
  \item $H(\mathrm{rep}) \subseteq \mathcal{F}$: features planned in release plan $\mathrm{rep}$ (R20).
\end{itemize}

\section{2. Indices}
\begin{itemize}[leftmargin=2em]
  \item $p \in \mathcal{P}$, $t \in \mathcal{T}$, $w \in \mathcal{W}$, $f \in \mathcal{F}$, $s \in \mathcal{S}$, $r \in \mathcal{R}$.
  \item $po \in \mathcal{PO}$, $sm \in \mathcal{SM}$, $pb \in \mathcal{PB}$, $\mathrm{sp} \in \mathcal{SP}$.
  \item $\mathrm{spp} \in \mathcal{SPP}$, $ds \in \mathcal{DS}$, $sr \in \mathcal{SR}$, $sre \in \mathcal{SRE}$.
  \item $\mathrm{sbl} \in \mathcal{SBL}$, $g \in \mathcal{SG}$, $e \in \mathcal{E}$, $u \in \mathcal{US}$, $k \in \mathcal{TSK}$.
  \item $d \in \mathcal{DEV}$, $b \in \mathcal{BL}$, $sh \in \mathcal{SH}$, $v \in \mathcal{VEL}$, $\mathrm{rep} \in \mathcal{REP}$, $rm \in \mathcal{RM}$, $scb \in \mathcal{SCB}$, $fed \in \mathcal{FED}$.
\end{itemize}

\paragraph{Data parameters from \texttt{Entities.csv} (attributes).}
\begin{itemize}[leftmargin=2em]
  \item $\text{sp}(u) \in \mathbb{Z}_{\ge 0}$: story points of user story $u$ (\texttt{UserStory.story\_points}).
  \item $\text{stat}^{US}(u) \in \{0,1\}$: eligibility/status mask for user story $u$ (\texttt{UserStory.status}).
  \item $\text{eff}(k) \in \mathbb{Z}_{\ge 0}$: effort of task $k$ (\texttt{Task.effort}); $\text{type}(k)$ is its type.
  \item $\text{stat}^{TSK}(k) \in \{0,1\}$: task status mask (1 = allowed).
  \item $\text{sev}(b) \in \mathbb{Z}_{\ge 0}$: blocker severity (\texttt{Blocker.severity}); $\text{act}(b)\in\{0,1\}$ active mask.
  \item $\text{prio}(f)\in\mathbb{Z}_{\ge 0}$: feature priority (\texttt{Feature.priority}).
  \item $\text{rel}(sh)\in\mathbb{Z}_{\ge 0}$: stakeholder relevance to feature (\texttt{Stakeholder.relevance\_to\_feature}).
  \item $\text{infl}(sh)\in\mathbb{Z}_{\ge 0}$: stakeholder influence (\texttt{Stakeholder.influence\_level}).
  \item $\text{ach}(g)\in[0,1]$: sprint goal achievement status (\texttt{SprintGoal.achievement\_status}).
  \item $\overline{\text{SP}} \in \mathbb{Z}_{\ge 0}$: reference average story points (\texttt{Velocity.avg.\_story\_points}).
  \item $\text{nb}(pb)\in\mathbb{Z}_{\ge 0}$: number of entries in product backlog (\texttt{ProductBacklog.number\_of\_entries}).
  \item $\text{bud}(p)\in\mathbb{R}_{\ge 0}$: project budget (\texttt{Project.budget}).
  \item $\text{tst}(d)\in[0,1]$: snapshot test status (\texttt{DevelopmentSnapshot.test\_status}).
  \item $\text{avail}(w)\in\mathbb{R}_{\ge 0}$: worker availability fraction (\texttt{Worker.availability}).
\end{itemize}

\section{3. Goals}
We aggregate the multiple goals from \texttt{Goals.csv} via a weighted-sum objective. Let $w_i$ denote each goal's weight. For goals of type \texttt{max}, we minimize the negative of their measure.

\paragraph{Decision variables (used by goals/constraints).}
See Section~5 for domains; here we recall symbols:
\[
x_u \in \{0,1\} \ \forall u\in\mathcal{US}; \quad
x_k \in \{0,1\} \ \forall k\in\mathcal{TSK}; \quad
z_f \in \{0,1\} \ \forall f\in\mathcal{F}; \quad
y_{w,k} \in \{0,1\} \ \forall w\in\mathcal{W},k\in\mathcal{TSK}; 
\]
\[
s^{SP}, s^{CAP}, e^{BUF} \in \mathbb{Z}_{\ge 0}; \quad
b_b \in \{0,1\} \ \forall b\in\mathcal{BL}; \quad
v^{TGT}, a^{COV}, r^{RISK}\in[0,1]; \quad
p^{TH}\in\mathbb{Z}_{\ge 0}.
\]

\paragraph{Objective}
\begin{align*}
\min \ J \;=\;&
\underbrace{w_0 \sum_{u\in\mathcal{US}} \text{sp}(u)\,x_u}_{\textbf{G0: minimize\_total\_story\_points}}
+\underbrace{w_1 \sum_{k\in\mathcal{TSK}} \text{eff}(k)\,x_k}_{\textbf{G1: minimize\_total\_task\_effort}}
-\underbrace{w_2 \sum_{g\in\mathcal{SG}} \text{ach}(g)}_{\textbf{G2: maximize\_sprint\_goal\_achievement}}
-\underbrace{w_3 \overline{\text{SP}}}_{\textbf{G3: maximize\_average\_velocity}}\\
&+\underbrace{w_4 \sum_{b\in\mathcal{BL}} \text{sev}(b)\,\text{act}(b)\,(1-b_b)}_{\textbf{G4: minimize\_open\_blocker\_severity}}
+\underbrace{w_5 \sum_{pb\in\mathcal{PB}} \text{nb}(pb)}_{\textbf{G5: minimize\_product\_backlog\_size}}
-\underbrace{w_6 \sum_{sh\in\mathcal{SH}} \text{rel}(sh)}_{\textbf{G6: maximize\_stakeholder\_relevance}}\\
&+\underbrace{w_7 \sum_{p\in\mathcal{P}} \text{bud}(p)}_{\textbf{G7: minimize\_project\_budget}}
-\underbrace{w_8 \sum_{d\in\mathcal{DEV}} \text{tst}(d)}_{\textbf{G8: maximize\_test\_status}}
-\underbrace{w_9 \sum_{w\in\mathcal{W}} \text{avail}(w)}_{\textbf{G9: maximize\_team\_availability}}\\
&+\underbrace{w_{10}\left(\sum_{\mathrm{sbl}\in\mathcal{SBL}} \text{TotEff}(\mathrm{sbl})\right)}_{\textbf{G10: minimize\_sprint\_backlog\_total\_effort}}
-\underbrace{w_{11} \sum_{f\in\mathcal{F}} \text{prio}(f)\,z_f}_{\textbf{G11: maximize\_feature\_priority\_delivery}}
\end{align*}
where $\text{TotEff}(\mathrm{sbl}) := \sum_{k \in L(scb):\, scb \leftrightarrow \mathrm{sbl}} \text{eff}(k)\,x_k$ is the total effort represented for a sprint backlog via its scrum board (R14,R12). Weights $(w_i)$ come from \texttt{Goals.csv}.

\paragraph{Goal items (IDs, Names, representations).}
\begin{itemize}[leftmargin=2em]
  \item \textbf{G0 (minimize\_total\_story\_points):} $\min \sum_{u}\text{sp}(u)\,x_u$
  \item \textbf{G1 (minimize\_total\_task\_effort):} $\min \sum_{k}\text{eff}(k)\,x_k$
  \item \textbf{G2 (maximize\_sprint\_goal\_achievement):} $\max \sum_{g}\text{ach}(g)$ $\equiv$ $\min -\sum_{g}\text{ach}(g)$
  \item \textbf{G3 (maximize\_average\_velocity):} $\max \overline{\text{SP}}$ $\equiv$ $\min -\overline{\text{SP}}$
  \item \textbf{G4 (minimize\_open\_blocker\_severity):} $\min \sum_{b}\text{sev}(b)\,\text{act}(b)\,(1-b_b)$
  \item \textbf{G5 (minimize\_product\_backlog\_size):} $\min \sum_{pb}\text{nb}(pb)$
  \item \textbf{G6 (maximize\_stakeholder\_relevance):} $\max \sum_{sh}\text{rel}(sh)$ $\equiv$ $\min -\sum_{sh}\text{rel}(sh)$
  \item \textbf{G7 (minimize\_project\_budget):} $\min \sum_{p}\text{bud}(p)$
  \item \textbf{G8 (maximize\_test\_status):} $\max \sum_{d}\text{tst}(d)$ $\equiv$ $\min -\sum_{d}\text{tst}(d)$
  \item \textbf{G9 (maximize\_team\_availability):} $\max \sum_{w}\text{avail}(w)$ $\equiv$ $\min -\sum_{w}\text{avail}(w)$
  \item \textbf{G10 (minimize\_sprint\_backlog\_total\_effort):} $\min \sum_{\mathrm{sbl}}\text{TotEff}(\mathrm{sbl})$
  \item \textbf{G11 (maximize\_feature\_priority\_delivery):} $\max \sum_{f}\text{prio}(f)\,z_f$ $\equiv$ $\min -\sum_{f}\text{prio}(f)\,z_f$
\end{itemize}

\section{4. Conditions}
Let $M$ be a sufficiently large constant (Big-M) when needed. The following constraints implement \texttt{Conditions.csv} and respect \texttt{Relationships.csv}.

\subsection*{Feasibility, selection, and linkage}
\begin{itemize}[leftmargin=2em]
  \item \textbf{Link tasks to user stories (R10):} $\forall u\in\mathcal{US},\ \forall k\in K(u):\quad x_k \le x_u.$
  \item \textbf{Sprint capacity (definition):}
  \[
  s^{SP} = \sum_{u\in\mathcal{US}} \text{sp}(u)\,x_u, \qquad
  \sum_{k\in\mathcal{TSK}}\text{eff}(k)\,x_k \le s^{CAP} + e^{BUF}.
  \]
  \item \textbf{Task assignment feasibility:} $\forall k\in\mathcal{TSK}:\ \sum_{w\in\mathcal{W}} y_{w,k} = x_k.$
  \item \textbf{Worker availability limit:} $\forall w\in\mathcal{W}: \sum_{k\in\mathcal{TSK}} \text{eff}(k)\,y_{w,k} \le \text{AvailEff}(w)$, where $\text{AvailEff}(w)$ is derived from \texttt{Worker.availability}.
  \item \textbf{Release-feature link (R20):} $\forall f\in\mathcal{F}:\ z_f \le \mathbf{1}\{f \in H(\mathrm{rep})\}$.
\end{itemize}

\subsection*{Condition items (IDs, Names, representations)}
\begin{itemize}[leftmargin=2em]
  \item \textbf{C0 (user\_stories\_must\_be\_ready):} $\forall u:\ x_u \le \text{stat}^{US}(u)$ (must-match readiness mask).
  \item \textbf{C1 (tasks\_cannot\_be\_blocked):} $\forall k:\ x_k \le \text{stat}^{TSK}(k)$ (cannot select blocked tasks).
  \item \textbf{C2 (only\_available\_workers):} $\forall w:\ \sum_{k} \text{eff}(k)\,y_{w,k} \le \text{AvailEff}(w)$.
  \item \textbf{C3 (sprint\_goal\_may\_match):} prefer higher $\text{ach}(g)$ via objective (soft preference; no hard constraint).
  \item \textbf{C4 (blockers\_must\_be\_low\_severity):} $\forall b:\ \text{sev}(b) > \tau^{BL} \Rightarrow b_b = 0$; equivalently $b_b \le \mathbf{1}\{\text{sev}(b)\le \tau^{BL}\}$.
  \item \textbf{C5 (features\_may\_match\_high\_priority):} soft preference by objective; optionally enforce $z_f = 0$ if $\text{prio}(f) < p^{TH}$.
  \item \textbf{C6 (product\_backlog\_status\_must\_match):} $\forall pb:\ \text{stat}^{PB}(pb)=1$ required; infeasible otherwise (data pre-filter).
  \item \textbf{C7 (sprint\_status\_must\_match):} $\forall \mathrm{sp}:\ \text{stat}^{SP}(\mathrm{sp})=1$ required; else no planning on that sprint.
  \item \textbf{C8 (dev\_snapshot\_must\_match\_test\_status):} $\forall d:\ \text{tst}(d) \ge a^{COV}$.
  \item \textbf{C9 (stakeholder\_may\_match\_high\_influence):} soft preference by objective using $\text{infl}(sh)$.
  \item \textbf{C10 (sprint\_backlog\_status\_must\_match):} $\forall \mathrm{sbl}:\ \text{stat}^{SBL}(\mathrm{sbl})=1$ precondition to commit tasks.
  \item \textbf{C11 (task\_type\_cannot\_match\_excluded):} $\forall k:\ \mathbf{1}\{\text{type}(k)\in\mathcal{X}^{EXCL}\}=1 \Rightarrow x_k=0$.
\end{itemize}

\subsection*{Additional structure from relationships}
\begin{itemize}[leftmargin=2em]
  \item \textbf{Blockers on tasks (R16):} If task $k$ is blocked by any $b\in \mathcal{BL}$ not resolved in sprint, then $x_k \le b_b$ for each linked blocker; equivalently $x_k \le \min_{b \in \mathcal{B}(k)} b_b$.
  \item \textbf{Sprint backlog linkage (R11,R12):} User stories planned for sprint backlog $\mathrm{sbl}$ satisfy $x_u \le \mathbf{1}\{u \in \mathrm{sbl}\}$ and $\mathrm{sbl}=S(\mathrm{sp})$ for the active sprint.
\end{itemize}

\section{5. DecisionVariables}
\begin{itemize}[leftmargin=2em]
  \item \textbf{DV0 \ (x\_us\_selected)}: $x_u \in \{0,1\}$ for $u\in\mathcal{US}$ — select user story in sprint.
  \item \textbf{DV1 \ (x\_task\_selected)}: $x_k \in \{0,1\}$ for $k\in\mathcal{TSK}$ — select task in sprint backlog.
  \item \textbf{DV2 \ (z\_feature\_in\_release)}: $z_f \in \{0,1\}$ for $f\in\mathcal{F}$ — include feature in release plan.
  \item \textbf{DV3 \ (y\_worker\_task\_assignment)}: $y_{w,k} \in \{0,1\}$ — assign worker $w$ to task $k$.
  \item \textbf{DV4 \ (s\_story\_points\_committed)}: $s^{SP} \in \mathbb{Z}_{\ge 0}$ — total committed story points (min 0, max by data).
  \item \textbf{DV5 \ (s\_sprint\_capacity)}: $s^{CAP} \in \mathbb{Z}_{\ge 0}$ — estimated capacity in story points (bounded by team velocity).
  \item \textbf{DV6 \ (e\_effort\_buffer)}: $e^{BUF} \in \mathbb{Z}_{\ge 0}$ — buffer for unplanned work.
  \item \textbf{DV7 \ (b\_blocker\_resolved)}: $b_b \in \{0,1\}$ for $b\in\mathcal{BL}$ — resolve blocker in sprint.
  \item \textbf{DV8 \ (v\_target\_velocity)}: $v^{TGT} \in \mathbb{R}_{\ge 0}$ — planning target velocity.
  \item \textbf{DV9 \ (a\_test\_coverage\_target)}: $a^{COV} \in [0,1]$ — minimum acceptable test/snapshot status.
  \item \textbf{DV10 \ (p\_priority\_threshold)}: $p^{TH} \in \mathbb{Z}_{\ge 0}$ — cutoff priority for features/stories.
  \item \textbf{DV11 \ (r\_risk\_tolerance)}: $r^{RISK} \in [0,1]$ — allowable normalized risk level.
\end{itemize}

\paragraph{Model type.}
With the above binary/integer/continuous variables and linear expressions, the model is a Mixed-Integer Linear Program (MILP). Weighted multi-objective handling is via scalarization in Section~3.

\end{document}
