graph TD
    %% Styling
    classDef entity fill:#cce5ff,stroke:#66a3ff,stroke-width:2px;
    classDef attribute fill:#ffffff,stroke:#333,stroke-width:1px;
    classDef relation fill:#ffd9b3,stroke:#ff9933,stroke-width:2px,color:#000;
    classDef goal fill:#ccffcc,stroke:#33cc33,stroke-width:2px;
    classDef condition fill:#ffcccc,stroke:#cc3333,stroke-width:2px;
    classDef dv fill:#e5ccff,stroke:#9933ff,stroke-width:2px;

    %% Subgraph for Core Entities & Relationships
    subgraph "Core Project & Team Structure"
        E0(E0 Project):::entity
        E1(E1 Team):::entity
        E2(E2 Worker):::entity
        E4(E4 Skill):::entity
        E5(E5 Role):::entity
        E6(E6 ProductOwner):::entity
        E7(E7 ScrumMaster):::entity
        E21(E21 Stakeholder):::entity

        E1 --"R1 is_assigned_to_project"--> E0
        E2 --"R2 belongs_to_team"--> E1
        E2 --"R3 has_skill"--> E4
        E2 --"R4 takes_on_role"--> E5
        E1 --"R6 is_supported_by"--> E7
    end

    subgraph "Backlog & Work Item Structure"
        E3(E3 Feature):::entity
        E8(E8 ProductBacklog):::entity
        E16(E16 Epic):::entity
        E17(E17 UserStory):::entity
        E18(E18 Task):::entity
        E20(E20 Blocker):::entity

        E6 --"R5 manages_backlog"--> E8
        E8 --"R7 contains_feature"--> E3
        E8 --"R8 contains_epic"--> E16
        E16 --"R9 contains_user_story"--> E17
        E17 --"R10 consists_of_tasks"--> E18
        E18 --"R16 is_blocked_by"--> E20
    end

    subgraph "Sprint & Execution Structure"
        E9(E9 Sprint):::entity
        E12(E12 SprintReview):::entity
        E13(E13 SprintRetrospective):::entity
        E14(E14 SprintBacklog):::entity
        E15(E15 SprintGoal):::entity
        E19(E19 DevelopmentSnapshot):::entity
        E22(E22 Velocity):::entity
        E25(E25 ScrumBoard):::entity
        
        E17 --"R11 is_in_sprint_backlog"--> E14
        E14 --"R12 belongs_to_sprint"--> E9
        E9 --"R13 pursues_goal"--> E15
        E25 --"R14 contains_tasks"--> E18
        E21 --"R17 participates_in"--> E12
        E7 --"R18 moderates_retrospective"--> E13
        E22 --"R19 refers_to_team"--> E1
        E9 --"R22 generates_snapshot"--> E19
    end

    subgraph "Planning & Documentation Structure"
        E23(E23 ReleasePlan):::entity
        E24(E24 Roadmap):::entity
        E26(E26 FeatureDocumentation):::entity

        E26 --"R15 documents_feature"--> E3
        E23 --"R20 plans_release"--> E3
        E23 --"R21 is_part_of_roadmap"--> E24
    end

    %% Subgraph for Attributes (sample for brevity, full list is very large)
    subgraph "Entity Attributes"
        E0_attr0(budget):::attribute
        E0_attr6(status):::attribute
        E0_attr8(priority):::attribute
        E1_attr2(team_size):::attribute
        E1_attr4(team_status):::attribute
        E2_attr6(availability):::attribute
        E3_attr4(priority):::attribute
        E3_attr3(status):::attribute
        E4_attr1(label):::attribute
        E7_attr3(experience):::attribute
        E17_attr3(acceptance_criteria):::attribute
        E17_attr4(priority):::attribute
        E17_attr5(story_points):::attribute
        E18_attr4(effort):::attribute
        E18_attr3(status):::attribute
        E20_attr3(severity):::attribute
        E20_attr4(status):::attribute
        E21_attr6(influence_level):::attribute
        E22_attr2(avg._story_points):::attribute
        SRE_attr3(team_satisfaction):::attribute
        
        E0 --- E0_attr0 & E0_attr6 & E0_attr8
        E1 --- E1_attr2 & E1_attr4
        E2 --- E2_attr6
        E3 --- E3_attr4 & E3_attr3
        E4 --- E4_attr1
        E7 --- E7_attr3
        E17 --- E17_attr3 & E17_attr4 & E17_attr5
        E18 --- E18_attr4 & E18_attr3
        E20 --- E20_attr3 & E20_attr4
        E21 --- E21_attr6
        E22 --- E22_attr2
        E13 --- SRE_attr3
    end

    %% Subgraph for Goals, Conditions, DVs
    subgraph "Optimization Components"
        %% Goals
        G0(G0 maximize_project_budget):::goal
        G1(G1 maximize_project_priority):::goal
        G2(G2 maximize_team_velocity):::goal
        G3(G3 minimize_task_effort):::goal
        G4(G4 minimize_blocker_severity):::goal
        G5(G5 maximize_user_story_priority):::goal
        G7(G7 maximize_story_points_in_sprint):::goal
        G9(G9 maximize_stakeholder_influence):::goal
        G10(G10 maximize_team_satisfaction):::goal
        
        %% Conditions
        C0(C0 worker_is_available):::condition
        C1(C1 team_is_active):::condition
        C2(C2 project_is_not_closed):::condition
        C3(C3 scrum_master_is_experienced):::condition
        C4(C4 task_is_not_done):::condition
        C8(C8 feature_is_approved):::condition
        C9(C9 worker_has_skill):::condition
        C10(C10 team_size_is_valid):::condition
        
        %% Decision Variables
        DV0(DV0 assign_worker_to_team):::dv
        DV1(DV1 assign_team_to_project):::dv
        DV2(DV2 assign_user_story_to_sprint):::dv
        DV3(DV3 assign_task_to_worker):::dv
        DV4(DV4 select_feature_for_release):::dv
        DV9(DV9 select_project_for_development):::dv
    end

    %% Connections for Optimization Components
    subgraph "Optimization Connections"
        G0 --> E0_attr0
        G1 --> E0_attr8
        G2 --> E22_attr2
        G3 --> E18_attr4
        G4 --> E20_attr3
        G5 --> E17_attr4
        G7 --> E17_attr5
        G9 --> E21_attr6
        G10 --> SRE_attr3

        C0 --> E2_attr6
        C1 --> E1_attr4
        C2 --> E0_attr6
        C3 --> E7_attr3
        C4 --> E18_attr3
        C8 --> E3_attr3
        C9 --> E4_attr1
        C10 --> E1_attr2

        DV0 --> E2 & E1
        DV1 --> E1 & E0
        DV2 --> E17 & E9
        DV3 --> E18 & E2
        DV4 --> E3 & E23
        DV9 --> E0
    end