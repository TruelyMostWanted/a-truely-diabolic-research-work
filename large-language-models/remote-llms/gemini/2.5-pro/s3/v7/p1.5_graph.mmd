graph TD
    %% === Style Definitions ===
    classDef entity fill:#87CEEB,color:#000,stroke:#333,stroke-width:2px;
    classDef attribute fill:#FFF,color:#000,stroke:#333,stroke-width:1px;
    classDef relation fill:#FFA500,color:#000,stroke:#333,stroke-width:2px;
    classDef goal fill:#90EE90,color:#000,stroke:#333,stroke-width:2px;
    classDef condition fill:#F08080,color:#000,stroke:#333,stroke-width:2px;
    classDef dv fill:#DDA0DD,color:#000,stroke:#333,stroke-width:2px;

    %% === Subgraph for Project, Team, Worker Ecosystem ===
    subgraph Core
        E0[Project];
        E1[Team];
        E2[Worker];
        E4[Skill];
        E5[Role];

        subgraph Project Attributes
            E0A0(id); E0A1(name); E0A2(project_start); E0A3(project_end); E0A4(description); E0A5(budget); E0A6(status); E0A7(target_audience); E0A8(priority);
        end
        subgraph Team Attributes
            E1A0(id); E1A1(name); E1A2(team_size); E1A3(team_start); E1A4(team_status);
        end
        subgraph Worker Attributes
            E2A0(id); E2A1(name); E2A2(first_name); E2A3(email); E2A6(availability);
        end
        
        E0 --- E0A0 & E0A1 & E0A2 & E0A3 & E0A4 & E0A5 & E0A6 & E0A7 & E0A8;
        E1 --- E1A0 & E1A1 & E1A2 & E1A3 & E1A4;
        E2 --- E2A0 & E2A1 & E2A2 & E2A3 & E2A6;
    end

    %% === Subgraph for Backlog and Item Hierarchy ===
    subgraph Backlog
        E8[ProductBacklog];
        E16[Epic];
        E3[Feature];
        E17[UserStory];
        E18[Task];

        subgraph Feature Attributes
            E3A0(id); E3A1(title); E3A4(priority); E3A5(estimated_effort);
        end
        subgraph UserStory Attributes
            E17A0(id); E17A5(story_points); E17A6(status);
        end
        subgraph Task Attributes
            E18A0(id); E18A4(effort); E18A3(status);
        end
        E3 --- E3A0 & E3A1 & E3A4 & E3A5;
        E17 --- E17A0 & E17A5 & E17A6;
        E18 --- E18A0 & E18A4 & E18A3;
    end

    %% === Subgraph for Sprint and Events ===
    subgraph SprintCycle
        E9[Sprint];
        E14[SprintBacklog];
        E25[ScrumBoard];
        E11[DailyScrum];
        E13[SprintRetrospective];
        
        subgraph Sprint Attributes
            E9A2(start_date); E9A3(end_date);
        end
        subgraph SprintBacklog Attributes
            E14A4(total_effort);
        end
        subgraph SprintRetrospective Attributes
             E13A4(team_satisfaction);
        end

        E9 --- E9A2 & E9A3;
        E14 --- E14A4;
        E13 --- E13A4;
    end
    
    %% === Subgraph for Other Supporting Entities ===
    subgraph Supporting
        E20[Blocker];
        E21[Stakeholder];
        E22[Velocity];

        subgraph Blocker Attributes
            E20A3(severity);
        end
        subgraph Stakeholder Attributes
            E21A6(influence_level);
        end
        subgraph Velocity Attributes
            E22A2(avg._story_points);
        end
        E20 --- E20A3;
        E21 --- E21A6;
        E22 --- E22A2;
    end

    %% === Goals ===
    subgraph Goals
        G0(maximize_project_budget);
        G1(maximize_project_priority);
        G2(maximize_feature_priority);
        G3(maximize_story_points_per_sprint);
        G4(minimize_task_effort);
        G5(minimize_blocker_severity);
        G6(maximize_team_velocity);
        G7(maximize_worker_availability);
        G8(maximize_team_satisfaction);
    end

    %% === Conditions ===
    subgraph Conditions
        C0(limit_team_size_max);
        C1(limit_team_size_min);
        C2(sprint_duration_limit);
        C4(sprint_backlog_capacity);
        C5(worker_must_have_role);
        C6(task_completion_required);
    end

    %% === Decision Variables ===
    subgraph DecisionVariables
        DV0((assign_worker_to_team));
        DV1((assign_team_to_project));
        DV2((assign_task_to_worker));
        DV3((select_user_story_for_sprint));
        DV8((assign_worker_to_role));
    end

    %% === Relationships ===
    R1{is_assigned_to_project};
    R2{belongs_to_team};
    R3{has_skill};
    R4{takes_on_role};
    R8{contains_epic};
    R9{contains_user_story};
    R10{consists_of_tasks};
    R11{is_in_sprint_backlog};
    R12{belongs_to_sprint};
    R14{contains_tasks};
    R16{is_blocked_by};
    R19{refers_to_team};

    %% === Connections ===
    %% Entity Relationships
    E1 -- R1 --> E0;
    E2 -- R2 --> E1;
    E2 -- R3 --> E4;
    E2 -- R4 --> E5;
    E8 -- R8 --> E16;
    E16 -- R9 --> E17;
    E17 -- R10 --> E18;
    E17 -- R11 --> E14;
    E14 -- R12 --> E9;
    E25 -- R14 --> E18;
    E18 -- R16 --> E20;
    E22 -- R19 --> E1;

    %% Goals to Attributes
    G0 --> E0A5;
    G1 --> E0A8;
    G2 --> E3A4;
    G3 --> E17A5;
    G4 --> E18A4;
    G5 --> E20A3;
    G6 --> E22A2;
    G7 --> E2A6;
    G8 --> E13A4;
    
    %% Conditions to Attributes/Entities
    C0 & C1 --> E1A2;
    C2 --> E9;
    C4 --> E14A4;
    C4 --> E22;
    C5 --> E2;
    C6 --> E17A6;
    C6 --> E18A3;
    
    %% Decision Variables to Entities
    DV0 --> E2;
    DV0 --> E1;
    DV1 --> E1;
    DV1 --> E0;
    DV2 --> E18;
    DV2 --> E2;
    DV3 --> E17;
    DV3 --> E9;
    DV8 --> E2;
    DV8 --> E5;
    
    %% Apply CSS Classes
    class E0,E1,E2,E3,E4,E5,E8,E9,E11,E13,E14,E16,E17,E18,E20,E21,E22,E25 entity;
    class E0A0,E0A1,E0A2,E0A3,E0A4,E0A5,E0A6,E0A7,E0A8,E1A0,E1A1,E1A2,E1A3,E1A4,E2A0,E2A1,E2A2,E2A3,E2A6,E3A0,E3A1,E3A4,E3A5,E17A0,E17A5,E17A6,E18A0,E18A3,E18A4,E9A2,E9A3,E14A4,E13A4,E20A3,E21A6,E22A2 attribute;
    class R1,R2,R3,R4,R8,R9,R10,R11,R12,R14,R16,R19 relation;
    class G0,G1,G2,G3,G4,G5,G6,G7,G8 goal;
    class C0,C1,C2,C4,C5,C6 condition;
    class DV0,DV1,DV2,DV3,DV8 dv;