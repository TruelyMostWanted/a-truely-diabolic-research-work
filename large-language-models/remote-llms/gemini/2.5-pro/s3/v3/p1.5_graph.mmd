graph TD
    %% Class Definitions for styling
    classDef entity fill:#cce5ff,stroke:#333,stroke-width:2px;
    classDef attribute fill:#ffffff,stroke:#333,stroke-width:1px;
    classDef relation fill:#ffd9b3,stroke:#333,stroke-width:1px,color:#000;
    classDef goal fill:#d4edda,stroke:#333,stroke-width:2px;
    classDef condition fill:#f8d7da,stroke:#333,stroke-width:2px;
    classDef dv fill:#e2d9f3,stroke:#333,stroke-width:2px;

    %% Subgraph for Project, Team, and People Management
    subgraph "Project & People Management"
        %% Entities
        E0(Project):::entity
        E1(Team):::entity
        E2(Worker):::entity
        E4(Skill):::entity
        E6(ProductOwner):::entity
        E7(ScrumMaster):::entity
        E21(Stakeholder):::entity

        %% Attributes (relevant to goals/conditions)
        E0_attr5(budget):::attribute
        E0_attr8(priority):::attribute
        E0_attr3(project_end):::attribute
        E1_attr2(team_size):::attribute
        E2_attr6(availability):::attribute
        E4_attr3(level):::attribute
        E21_attr6(influence_level):::attribute
        E21_attr7(relevance_to_feature):::attribute
        
        %% Relationships
        R1{is_assigned_to_project}:::relation
        R2{belongs_to_team}:::relation
        R3{has_skill}:::relation
        R6{is_supported_by}:::relation

        %% Goals
        G0(maximize_project_budget):::goal
        G7(maximize_stakeholder_influence):::goal
        G8(minimize_project_duration):::goal
        G9(maximize_worker_availability):::goal
        
        %% Conditions
        C0(team_size_limit):::condition
        C1(project_budget_limit):::condition
        C4(worker_availability_required):::condition
        C7(expert_skill_level_required):::condition
        C8(product_owner_must_be_assigned):::condition
        C10(stakeholder_relevance_check):::condition
        C11(project_priority_check):::condition

        %% Decision Variables
        DV0(assign_worker_to_team):::dv
        DV1(assign_team_to_project):::dv
        DV6(set_project_budget):::dv
        DV9(select_scrum_master_for_team):::dv

        %% Connections
        E0 --- E0_attr5 & E0_attr8 & E0_attr3
        E1 --- E1_attr2
        E2 --- E2_attr6
        E4 --- E4_attr3
        E21 --- E21_attr6 & E21_attr7

        E1 -- R1 -- E0
        E2 -- R2 -- E1
        E2 -- R3 -- E4
        E1 -- R6 -- E7
        
        G0 --> E0_attr5
        G7 --> E21_attr6
        G8 --> E0_attr3
        G9 --> E2_attr6

        C0 --> E1_attr2
        C1 --> E0_attr5
        C4 --> E2_attr6
        C7 --> E4_attr3
        C8 --> E6
        C10 --> E21_attr7
        C11 --> E0_attr8

        DV0 --o R2
        DV1 --o R1
        DV6 --o E0
        DV9 --o R6
    end

    %% Subgraph for Backlog Management and Planning
    subgraph "Backlog & Feature Planning"
        %% Entities
        E3(Feature):::entity
        E8(ProductBacklog):::entity
        E16(Epic):::entity
        E17(UserStory):::entity
        E23(ReleasePlan):::entity
        E24(Roadmap):::entity
        
        %% Attributes
        E3_attr4(priority):::attribute
        E17_attr5(story_points):::attribute

        %% Relationships
        R7{contains_feature}:::relation
        R8{contains_epic}:::relation
        R9{contains_user_story}:::relation
        R20{plans_release}:::relation
        R21{is_part_of_roadmap}:::relation
        
        %% Goals
        G1(maximize_feature_priority):::goal

        %% Conditions
        C3(feature_priority_threshold):::condition
        C9(user_story_must_have_points):::condition

        %% Decision Variables
        DV4(set_user_story_points):::dv
        DV5(set_feature_priority):::dv
        DV10(include_feature_in_release):::dv

        %% Connections
        E3 --- E3_attr4
        E17 --- E17_attr5

        E8 -- R7 -- E3
        E8 -- R8 -- E16
        E16 -- R9 -- E17
        E23 -- R20 -- E3
        E23 -- R21 -- E24
        
        G1 --> E3_attr4
        C3 --> E3_attr4
        C9 --> E17_attr5
        
        DV4 --o E17
        DV5 --o E3
        DV10 --o R20
    end
    
    %% Subgraph for Sprint Execution
    subgraph "Sprint Execution & Monitoring"
        %% Entities
        E9(Sprint):::entity
        E14(SprintBacklog):::entity
        E18(Task):::entity
        E20(Blocker):::entity
        E22(Velocity):::entity
        E13(SprintRetrospective):::entity
        
        %% Duplicated Entities for clarity
        E1_Team(Team):::entity
        E17_US(UserStory):::entity

        %% Attributes
        E9_attr4(status):::attribute
        E9_attr5(achievement_of_goal):::attribute
        E18_attr4(effort):::attribute
        E18_attr3(status):::attribute
        E20_attr3(severity):::attribute
        E20_attr4(status):::attribute
        E22_attr2(avg._story_points):::attribute
        E13_attr3(team_satisfaction):::attribute
        
        %% Relationships
        R10{consists_of_tasks}:::relation
        R11{is_in_sprint_backlog}:::relation
        R12{belongs_to_sprint}:::relation
        R16{is_blocked_by}:::relation
        R19{refers_to_team}:::relation
        
        %% Goals
        G2(minimize_task_effort):::goal
        G3(maximize_story_points_per_sprint):::goal
        G4(maximize_team_velocity):::goal
        G5(minimize_blocker_severity):::goal
        G6(maximize_team_satisfaction):::goal
        G10(maximize_sprint_goal_achievement):::goal
        G11(minimize_unassigned_tasks):::goal
        
        %% Conditions
        C2(sprint_status_must_be_done):::condition
        C5(task_effort_cap):::condition
        C6(critical_blocker_must_be_resolved):::condition
        C12(task_must_be_in_sprint):::condition
        
        %% Decision Variables
        DV2(select_user_story_for_sprint):::dv
        DV3(assign_task_to_worker):::dv
        DV7(set_sprint_duration):::dv
        DV8(allocate_task_effort):::dv
        DV11(resolve_blocker):::dv
        
        %% Connections
        E9 --- E9_attr4 & E9_attr5
        E18 --- E18_attr4 & E18_attr3
        E20 --- E20_attr3 & E20_attr4
        E22 --- E22_attr2
        E13 --- E13_attr3

        E17_US -- R10 -- E18
        E17_US -- R11 -- E14
        E14 -- R12 -- E9
        E18 -- R16 -- E20
        E22 -- R19 -- E1_Team
        
        G2 --> E18_attr4
        G3 --> E17_US
        G4 --> E22_attr2
        G5 --> E20_attr3
        G6 --> E13_attr3
        G10 --> E9_attr5
        G11 --> E18_attr3

        C2 --> E9_attr4
        C5 --> E18_attr4
        C6 --> E20_attr4
        C12 --> E18

        DV2 --o R11
        DV3 --o E18
        DV7 --o E9
        DV8 --o E18
        DV11 --o E20
    end