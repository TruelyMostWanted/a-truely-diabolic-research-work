graph TD
    %% -------------------------------------------
    %% --- STYLE DEFINITIONS
    %% -------------------------------------------
    classDef entityStyle fill:#87CEFA,stroke:#333,stroke-width:2px,font-weight:bold;
    classDef attributeStyle fill:#FFFFFF,stroke:#333,stroke-width:1px,color:#000;
    classDef goalStyle fill:#90EE90,stroke:#333,stroke-width:2px;
    classDef conditionStyle fill:#F08080,stroke:#333,stroke-width:2px;
    classDef dvStyle fill:#DDA0DD,stroke:#333,stroke-width:2px;

    %% Link styles
    linkStyle default stroke:#333,stroke-width:1px;
    linkStyle 0 stroke:#FFA500,stroke-width:2px,color:orange; %% For Relations
    linkStyle 1,2,3,4,5,6,7,8,9,10,11,12,13 stroke:#FFA500,stroke-width:2px,color:orange;
    linkStyle 14,15,16,17,18,19,20,21,22,23,24,25 stroke:#FFA500,stroke-width:2px,color:orange;


    %% -------------------------------------------
    %% --- NODES (ENTITIES, G/C/DVs, ATTRIBUTES)
    %% -------------------------------------------
    subgraph "Core Entities"
        Project[Project];
        Team[Team];
        Worker[Worker];
        Sprint[Sprint];
        SprintBacklog[SprintBacklog];
        UserStory[UserStory];
        Task[Task];
        Feature[Feature];
        Blocker[Blocker];
        Velocity[Velocity];
        ProductBacklog[ProductBacklog];
        Epic[Epic];
        SprintGoal[SprintGoal];
        SprintRetrospective[SprintRetrospective];
        Stakeholder[Stakeholder];
        DevelopmentSnapshot[DevelopmentSnapshot];
    end

    subgraph "Goals (Objectives)"
        G0["G0(maximize_story_points)"];
        G2["G2(maximize_feature_priority)"];
        G3["G3(maximize_team_satisfaction)"];
        G4["G4(minimize_blocker_severity)"];
        G7["G7(minimize_task_effort)"];
        G9["G9(minimize_unresolved_blockers)"];
        G10["G10(maximize_worker_availability)"];
        G12["G12(maximize_test_status_success)"];
    end

    subgraph "Conditions (Constraints)"
        C0["C0(constrain_team_size_upper)"];
        C1["C1(constrain_team_size_lower)"];
        C4["C4(constrain_sprint_effort_by_velocity)"];
        C6["C6(task_must_be_done_for_story)"];
        C7["C7(constrain_project_by_budget)"];
        C8["C8(require_feature_priority)"];
        C10["C10(worker_must_be_available)"];
    end

    subgraph "Decision Variables"
        DV0["DV0(assign_user_story_to_sprint)"];
        DV1["DV1(assign_worker_to_team)"];
        DV2["DV2(assign_task_to_worker)"];
        DV3["DV3(set_feature_priority)"];
        DV5["DV5(set_user_story_points)"];
        DV6["DV6(set_task_status)"];
        DV10["DV10(set_team_size)"];
        DV11["DV11(set_blocker_severity)"];
    end

    subgraph "Attributes"
        %% Attributes connected to Goals/Conditions
        UserStory_story_points[story_points];
        Feature_priority[priority];
        Team_satisfaction[team_satisfaction];
        Blocker_severity[severity];
        Task_effort[effort];
        Blocker_status[status];
        Worker_availability[availability];
        DevSnapshot_test_status[test_status];
        Team_team_size[team_size];
        SprintBacklog_total_effort[total_effort];
        Task_status[status];
        Project_budget[budget];
        Worker_status[status];

        %% General Attributes for context
        Project_id[id];
        Project_name[name];
        Team_id[id];
        UserStory_id[id];
        Task_id[id];
    end


    %% -------------------------------------------
    %% --- APPLY STYLES TO NODES
    %% -------------------------------------------
    class Project,Team,Worker,Sprint,SprintBacklog,UserStory,Task,Feature,Blocker,Velocity,ProductBacklog,Epic,SprintGoal,SprintRetrospective,Stakeholder,DevelopmentSnapshot entityStyle;
    class G0,G2,G3,G4,G7,G9,G10,G12 goalStyle;
    class C0,C1,C4,C6,C7,C8,C10 conditionStyle;
    class DV0,DV1,DV2,DV3,DV5,DV6,DV10,DV11 dvStyle;
    class UserStory_story_points,Feature_priority,Team_satisfaction,Blocker_severity,Task_effort,Blocker_status,Worker_availability,DevSnapshot_test_status,Team_team_size,SprintBacklog_total_effort,Task_status,Project_budget,Worker_status,Project_id,Project_name,Team_id,UserStory_id,Task_id attributeStyle;

    %% -------------------------------------------
    %% --- CONNECTIONS
    %% -------------------------------------------

    %% 1. Entities and their Attributes
    Project --- Project_id;
    Project --- Project_name;
    Project --- Project_budget;
    Team --- Team_id;
    Team --- Team_team_size;
    Worker --- Worker_availability;
    Worker --- Worker_status;
    UserStory --- UserStory_id;
    UserStory --- UserStory_story_points;
    Task --- Task_id;
    Task --- Task_effort;
    Task --- Task_status;
    Feature --- Feature_priority;
    SprintRetrospective --- Team_satisfaction;
    Blocker --- Blocker_severity;
    Blocker --- Blocker_status;
    SprintBacklog --- SprintBacklog_total_effort;
    DevelopmentSnapshot --- DevSnapshot_test_status;


    %% 2. Entities and their Relations
    Team -- "R1(is_assigned_to_project)" --> Project;
    Worker -- "R2(belongs_to_team)" --> Team;
    ProductBacklog -- "R7(contains_feature)" --> Feature;
    ProductBacklog -- "R8(contains_epic)" --> Epic;
    Epic -- "R9(contains_user_story)" --> UserStory;
    UserStory -- "R10(consists_of_tasks)" --> Task;
    UserStory -- "R11(is_in_sprint_backlog)" --> SprintBacklog;
    SprintBacklog -- "R12(belongs_to_sprint)" --> Sprint;
    Sprint -- "R13(pursues_goal)" --> SprintGoal;
    Task -- "R16(is_blocked_by)" --> Blocker;
    Velocity -- "R19(refers_to_team)" --> Team;
    Sprint -- "R22(generates_snapshot)" --> DevelopmentSnapshot;

    %% 3. Goals linked to Entity/Attributes
    G0 --> UserStory_story_points;
    G2 --> Feature_priority;
    G3 --> Team_satisfaction;
    G4 --> Blocker_severity;
    G7 --> Task_effort;
    G9 --> Blocker_status;
    G10 --> Worker_availability;
    G12 --> DevSnapshot_test_status;

    %% 4. Conditions linked to Entity/Attributes
    C0 --> Team_team_size;
    C1 --> Team_team_size;
    C4 --> SprintBacklog_total_effort;
    C4 --> Velocity;
    C6 --> Task_status;
    C6 --> UserStory;
    C7 --> Project_budget;
    C8 --> Feature_priority;
    C10 --> Worker_status;

    %% 5. Decision Variables linked to Entities
    DV0 --> UserStory;
    DV0 --> SprintBacklog;
    DV1 --> Worker;
    DV1 --> Team;
    DV2 --> Task;
    DV2 --> Worker;
    DV3 --> Feature;
    DV5 --> UserStory;
    DV6 --> Task;
    DV10 --> Team;
    DV11 --> Blocker;